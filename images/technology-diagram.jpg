<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f5f5f5" />
  
  <!-- Title -->
  <text x="400" y="50" font-family="Arial" font-size="24" fill="#212121" text-anchor="middle">DMac Hybrid RAG/CAG System</text>
  
  <!-- Main Components -->
  <g transform="translate(50, 100)">
    <!-- Static Content (RAG) -->
    <rect x="0" y="0" width="200" height="150" rx="10" fill="#bbdefb" />
    <text x="100" y="30" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">Static Content (RAG)</text>
    
    <rect x="20" y="50" width="160" height="30" rx="5" fill="#ffffff" stroke="#2196f3" />
    <text x="100" y="70" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Documentation</text>
    
    <rect x="20" y="90" width="160" height="30" rx="5" fill="#ffffff" stroke="#2196f3" />
    <text x="100" y="110" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Code Comments</text>
    
    <!-- ChromaDB -->
    <rect x="250" y="0" width="200" height="150" rx="10" fill="#e1bee7" />
    <text x="350" y="30" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">ChromaDB</text>
    
    <rect x="270" y="50" width="160" height="30" rx="5" fill="#ffffff" stroke="#9c27b0" />
    <text x="350" y="70" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Vector Store</text>
    
    <rect x="270" y="90" width="160" height="30" rx="5" fill="#ffffff" stroke="#9c27b0" />
    <text x="350" y="110" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Embeddings</text>
    
    <!-- Dynamic Content (CAG) -->
    <rect x="0" y="200" width="200" height="150" rx="10" fill="#c8e6c9" />
    <text x="100" y="230" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">Dynamic Content (CAG)</text>
    
    <rect x="20" y="250" width="160" height="30" rx="5" fill="#ffffff" stroke="#4caf50" />
    <text x="100" y="270" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Task Details</text>
    
    <rect x="20" y="290" width="160" height="30" rx="5" fill="#ffffff" stroke="#4caf50" />
    <text x="100" y="310" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Conversation History</text>
    
    <!-- Context Orchestration -->
    <rect x="250" y="200" width="200" height="150" rx="10" fill="#ffecb3" />
    <text x="350" y="230" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">Context Orchestration</text>
    
    <rect x="270" y="250" width="160" height="30" rx="5" fill="#ffffff" stroke="#ffa000" />
    <text x="350" y="270" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">LangChain Chain</text>
    
    <rect x="270" y="290" width="160" height="30" rx="5" fill="#ffffff" stroke="#ffa000" />
    <text x="350" y="310" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Prompt Templates</text>
    
    <!-- LLM -->
    <rect x="500" y="100" width="200" height="150" rx="10" fill="#d1c4e9" />
    <text x="600" y="130" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">Language Model</text>
    
    <rect x="520" y="150" width="160" height="30" rx="5" fill="#ffffff" stroke="#673ab7" />
    <text x="600" y="170" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">Ollama Integration</text>
    
    <rect x="520" y="190" width="160" height="30" rx="5" fill="#ffffff" stroke="#673ab7" />
    <text x="600" y="210" font-family="Arial" font-size="12" fill="#212121" text-anchor="middle">API Models</text>
  </g>
  
  <!-- Arrows -->
  <g stroke="#212121" stroke-width="2" fill="none">
    <!-- Static to ChromaDB -->
    <path d="M 250 175 L 200 175" />
    <polygon points="250,175 240,170 240,180" fill="#212121" />
    
    <!-- Dynamic to Context -->
    <path d="M 250 275 L 200 275" />
    <polygon points="250,275 240,270 240,280" fill="#212121" />
    
    <!-- ChromaDB to Context -->
    <path d="M 350 150 L 350 200" />
    <polygon points="350,200 345,190 355,190" fill="#212121" />
    
    <!-- Context to LLM -->
    <path d="M 450 275 L 500 175" />
    <polygon points="500,175 490,180 495,170" fill="#212121" />
  </g>
  
  <!-- User Query and Response -->
  <g transform="translate(50, 400)">
    <rect x="0" y="0" width="700" height="80" rx="10" fill="#ffffff" stroke="#6200ee" stroke-width="2" />
    <text x="350" y="30" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">User Query</text>
    <text x="350" y="60" font-family="Arial" font-size="14" fill="#757575" text-anchor="middle">"How does the hybrid RAG/CAG system work in DMac?"</text>
    
    <rect x="0" y="100" width="700" height="80" rx="10" fill="#ffffff" stroke="#03dac6" stroke-width="2" />
    <text x="350" y="130" font-family="Arial" font-size="16" fill="#212121" text-anchor="middle">Enhanced Response</text>
    <text x="350" y="160" font-family="Arial" font-size="14" fill="#757575" text-anchor="middle">Context-aware, accurate response based on static and dynamic information</text>
  </g>
</svg>
